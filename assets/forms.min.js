!function o(n,a,s){function c(t,e){if(!a[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=a[t]={exports:{}},n[t][0].call(r.exports,function(e){return c(n[t][1][e]||e)},r,r.exports,o,n,a,s)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,r){"use strict";var o=e("./modules/modal"),n=e("./modules/contact");e=function(e){(0,o.modal)(),(0,n.contactForm)()},"loading"!=document.readyState?e(event):document.addEventListener("DOMContentLoaded",e)},{"./modules/contact":2,"./modules/modal":3}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contactForm=void 0;var o=e("./modal");function n(){document.querySelectorAll("[data-error]").forEach(function(e){return e.classList.remove("error")}),document.querySelector(".js-form-submission").classList.remove("show"),(0,o.closeModal)()}r.contactForm=function(){var e=document.querySelector("#contact-form");document.querySelectorAll("[required]").forEach(function(e){e.required=!1}),document.querySelectorAll("[data-error]").forEach(function(e){e.addEventListener("click",function(){this.classList.remove("error")})}),e.addEventListener("submit",function(t){t.preventDefault(),t.target.querySelector('button[type="submit"]').disabled=!0,n(),(0,o.showModal)("loading","Processing...","");var e={email:t.target.querySelector('[name="email"]').value,message:t.target.querySelector('[name="message"]').value},r=!1;if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.email).toLowerCase())||(t.target.querySelector('[data-error="email"]').classList.add("error"),r=!0),e.message||(t.target.querySelector('[data-error="message"]').classList.add("error"),r=!0),r)return(0,o.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1);e=t.target.dataset.url,r={method:"POST",body:new URLSearchParams(new FormData(t.target))};t.target.querySelector(".js-form-submission").classList.add("show"),fetch(e,r).then(function(e){return e.json()}).catch(function(e){n(),(0,o.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),t.target.querySelector('button[type="submit"]').disabled=!1}).then(function(e){if(n(),e&&"error"===e.status)return(0,o.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),console.log(e),void(t.target.querySelector('button[type="submit"]').disabled=!1);(0,o.showModal)("success","Success!","Message Successfully submitted, thank you! We will be in contact with you shortly."),t.target.querySelector('button[type="submit"]').disabled=!1,t.target.reset()})})}},{"./modal":3}],3:[function(e,t,r){"use strict";function a(){var e=document.querySelector(".modal"),t=document.querySelector(".modal-content");e.classList.contains("show")&&e.classList.remove("show"),e.classList.contains("error")&&e.classList.remove("error"),e.classList.contains("success")&&e.classList.remove("success"),e.classList.contains("warning")&&e.classList.remove("warning"),e.classList.contains("loading")&&e.classList.remove("loading"),e.querySelector("h3").innerText="",e.querySelector("main").innerHTML="",t.removeEventListener("keydown",s),t.blur()}function s(e){switch(e.code){case"Enter":return a(),!0;case"Escape":return a(),!1;default:return}}Object.defineProperty(r,"__esModule",{value:!0}),r.closeModal=a,r.modal=function(){var e=document.querySelector(".modal > .modal-content"),t=document.querySelector(".modal > .modal-content > .btn-submit"),r=document.querySelector(".modal > .modal-content > .btn-cancel"),o=document.querySelector(".modal > .modal-content > .close");e.tabIndex=-1,t.addEventListener("click",function(){return a(),!0}),r.addEventListener("click",function(){return a(),!1}),o.addEventListener("click",function(){return a(),!1})},r.showModal=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=document.querySelector(".modal"),n=document.querySelector(".modal-content");n.querySelector(".close");o.classList.contains("show")&&a();o.querySelector("h3").innerText="".concat(t),o.querySelector("main").innerText="".concat(r),"loading"!==e&&(n.focus(),n.addEventListener("keydown",s),n.addEventListener("blur",function(){return a(),!1}));o.classList.add("".concat(e)),o.classList.add("show")}},{}]},{},[1]);
//# sourceMappingURL=forms.min.js.map
